    def get_path(self, file_type, filename=None, timestamp=None):
        if timestamp is None:
            timestamp = int(time.time())
        
        base_path = self.subdirs.get(file_type, self.base_dir)
        
        # If specific filename provided, use it
        if filename:
            return base_path / filename
        
        # Default filenames for each type
        default_names = {
            'active': 'blockchain_db.json',
            'fallback': f'enhanced_fallback_db_{timestamp}.json',
            'quarantine': f'quarantined_blocks_{timestamp}.json',
            'forensic': f'forensic_report_{timestamp}.json',
            'backups': f'backup_blockchain_{timestamp}.json'
        }
        
        # Use .get() to avoid KeyError
        filename = default_names.get(file_type, f'{file_type}_{timestamp}.json')
        return base_path / filename